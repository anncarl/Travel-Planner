const {
  GoogleGenerativeAI,
  HarmCategory,
  HarmBlockThreshold,
} = require("@google/generative-ai");

const apiKey = process.env.EXPO_PUBLIC_GOOGLE_GEMINI_API_KEY;
const genAI = new GoogleGenerativeAI(apiKey);

const model = genAI.getGenerativeModel({
  model: "gemini-1.5-flash",
});

const generationConfig = {
  temperature: 1,
  topP: 0.95,
  topK: 64,
  maxOutputTokens: 8192,
  responseMimeType: "application/json",
};

export const chatSession = model.startChat({
  generationConfig,
  // safetySettings: Adjust safety settings
  // See https://ai.google.dev/gemini-api/docs/safety-settings
  history: [
    {
      role: "user",
      parts: [
        {
          text: "Generate travel plan for location: Kampala, Uganda, for 3 Days and 2 Night for Solo with a Luxury budget with a Flight details,Flight price with booking URL, hotel options list with HotelName, Hotel address, price, hotel image URL, geo coordinates, rating, descriptions and places to visit nearby with place name, place image URL, geo coordinates, place details, ticket pricing, time travel for each of the locations for 3 day and 2 night with each day plan with best time to visit in JSON Format.\n",
        },
      ],
    },
    {
      role: "model",
      parts: [
        {
          text: '```json\n{\n  "trip": {\n    "destination": "Kampala, Uganda",\n    "duration": "3 Days & 2 Nights",\n    "traveler": "Solo",\n    "budget": "Luxury",\n    "flight": {\n      "details": "Round trip from [Your Departure City] to Entebbe International Airport (EBB)",\n      "price": "Please replace with actual price",\n      "booking_url": "https://www.google.com/flights" \n    },\n    "hotel": [\n      {\n        "name": "The Sheraton Kampala Hotel",\n        "address": "Plot 12, Nakasero Hill, Kampala",\n        "price": "Please replace with actual price",\n        "image_url": "https://www.marriott.com/media/images/properties/kampla/kampla-sheraton/exterior/exterior.jpg",\n        "geo_coordinates": "-0.3356, 32.5819",\n        "rating": 4.5,\n        "description": "Luxurious hotel with stunning city views, an outdoor pool, and a spa.",\n        "nearby_places": [\n          {\n            "name": "Uganda Museum",\n            "image_url": "https://www.ugandamuseum.or.ug/images/museum.jpg",\n            "geo_coordinates": "-0.3237, 32.5794",\n            "details": "Learn about Uganda\'s rich history and culture.",\n            "ticket_pricing": "UGX 10,000 (approx. $3)",\n            "time_travel": "10-15 minutes"\n          },\n          {\n            "name": "Parliament of Uganda",\n            "image_url": "https://upload.wikimedia.org/wikipedia/commons/thumb/d/d5/Parliament_of_Uganda_from_outside.jpg/1200px-Parliament_of_Uganda_from_outside.jpg",\n            "geo_coordinates": "-0.3281, 32.5753",\n            "details": "Impressive building that serves as the legislative branch of Uganda.",\n            "ticket_pricing": "N/A",\n            "time_travel": "5-10 minutes"\n          }\n        ]\n      },\n      {\n        "name": "The Kampala Serena Hotel",\n        "address": "Victoria Avenue, Kampala",\n        "price": "Please replace with actual price",\n        "image_url": "https://www.serenahotels.com/media/images/hotels/kampala-serena-hotel/kampala-serena-hotel-hero-image.jpg",\n        "geo_coordinates": "-0.3222, 32.5788",\n        "rating": 4.6,\n        "description": "Sophisticated hotel with elegant rooms, multiple restaurants, and a spa.",\n        "nearby_places": [\n          {\n            "name": "Kasubi Tombs",\n            "image_url": "https://upload.wikimedia.org/wikipedia/commons/thumb/1/1e/Kasubi_Tombs_%283%29.jpg/1200px-Kasubi_Tombs_%283%29.jpg",\n            "geo_coordinates": "-0.3211, 32.5636",\n            "details": "UNESCO World Heritage Site, burial grounds of the Buganda kings.",\n            "ticket_pricing": "UGX 10,000 (approx. $3)",\n            "time_travel": "20-25 minutes"\n          },\n          {\n            "name": "The National Theatre",\n            "image_url": "https://upload.wikimedia.org/wikipedia/commons/thumb/1/19/National_Theatre_Kampala.jpg/1200px-National_Theatre_Kampala.jpg",\n            "geo_coordinates": "-0.3250, 32.5726",\n            "details": "Cultural center hosting performances and events.",\n            "ticket_pricing": "Varies by event",\n            "time_travel": "10-15 minutes"\n          }\n        ]\n      },\n      {\n        "name": "The Protea Hotel Kampala Skyz",\n        "address": "Plot 11B, Clement Hill Road, Kampala",\n        "price": "Please replace with actual price",\n        "image_url": "https://media.marriott.com/media/images/properties/kampla/kampla-protea-hotel-skyz/exterior/exterior.jpg",\n        "geo_coordinates": "-0.3309, 32.5810",\n        "rating": 4.3,\n        "description": "Modern hotel with rooftop infinity pool and stunning city views.",\n        "nearby_places": [\n          {\n            "name": "The Constitutional Square",\n            "image_url": "https://upload.wikimedia.org/wikipedia/commons/thumb/7/7f/Constitutional_Square_Kampala.jpg/1200px-Constitutional_Square_Kampala.jpg",\n            "geo_coordinates": "-0.3267, 32.5765",\n            "details": "Public square with the iconic Independence Monument.",\n            "ticket_pricing": "N/A",\n            "time_travel": "5-10 minutes"\n          },\n          {\n            "name": "Makerere University",\n            "image_url": "https://upload.wikimedia.org/wikipedia/commons/thumb/9/92/MakerereUniversityMainBuilding.jpg/1200px-MakerereUniversityMainBuilding.jpg",\n            "geo_coordinates": "-0.3155, 32.5685",\n            "details": "Historic university, the oldest in East Africa.",\n            "ticket_pricing": "N/A",\n            "time_travel": "15-20 minutes"\n          }\n        ]\n      }\n    ],\n    "itinerary": [\n      {\n        "day": 1,\n        "title": "Arrival and City Exploration",\n        "schedule": [\n          {\n            "time": "10:00 AM",\n            "activity": "Arrive at Entebbe International Airport (EBB) and transfer to your hotel in Kampala.",\n            "location": "Entebbe International Airport (EBB) & Kampala",\n            "description": "Enjoy a comfortable and scenic transfer from the airport to your luxurious hotel in Kampala. Check in and relax before starting your city exploration."\n          },\n          {\n            "time": "12:00 PM",\n            "activity": "Lunch at a fine dining restaurant in the city.",\n            "location": "Restaurant in Kampala",\n            "description": "Savor a delectable meal at one of Kampala\'s renowned fine dining restaurants, indulging in local and international cuisine."\n          },\n          {\n            "time": "02:00 PM",\n            "activity": "Visit the Uganda Museum.",\n            "location": "Uganda Museum",\n            "description": "Immerse yourself in the rich history and culture of Uganda at the Uganda Museum. Explore fascinating exhibits showcasing the country\'s art, artifacts, and traditions."\n          },\n          {\n            "time": "04:00 PM",\n            "activity": "Explore the vibrant markets of Kampala.",\n            "location": "Kampala Markets (e.g., Owino Market, Nakasero Market)",\n            "description": "Experience the lively atmosphere of Kampala\'s bustling markets, such as Owino Market or Nakasero Market, and discover a wide range of local products and crafts."\n          },\n          {\n            "time": "07:00 PM",\n            "activity": "Dinner at a rooftop restaurant with panoramic city views.",\n            "location": "Rooftop Restaurant in Kampala",\n            "description": "Enjoy a romantic dinner with breathtaking views of the city skyline from a chic rooftop restaurant. Indulge in a delightful culinary experience."\n          }\n        ]\n      },\n      {\n        "day": 2,\n        "title": "Cultural Immersion and Scenic Views",\n        "schedule": [\n          {\n            "time": "09:00 AM",\n            "activity": "Visit the Kasubi Tombs.",\n            "location": "Kasubi Tombs",\n            "description": "Experience the historical significance of the Kasubi Tombs, a UNESCO World Heritage Site and the burial grounds of the Buganda kings. Learn about the traditional burial customs and the rich cultural heritage."\n          },\n          {\n            "time": "11:00 AM",\n            "activity": "Explore the craft villages of Nsambya.",\n            "location": "Nsambya Craft Villages",\n            "description": "Discover the artistry of Uganda by visiting the craft villages of Nsambya. Immerse yourself in local traditions and purchase unique handcrafted souvenirs."\n          },\n          {\n            "time": "01:00 PM",\n            "activity": "Lunch at a traditional Ugandan restaurant.",\n            "location": "Traditional Ugandan Restaurant",\n            "description": "Indulge in a flavorful and authentic Ugandan lunch at a traditional restaurant, experiencing the diverse and delicious cuisine."\n          },\n          {\n            "time": "03:00 PM",\n            "activity": "Visit the Namugongo Martyrs Shrine.",\n            "location": "Namugongo Martyrs Shrine",\n            "description": "Pay respects at the Namugongo Martyrs Shrine, a sacred site commemorating the martyrdom of Ugandan Christians. Explore the historical significance and the serene atmosphere."\n          },\n          {\n            "time": "06:00 PM",\n            "activity": "Enjoy a sunset cruise on Lake Victoria.",\n            "location": "Lake Victoria",\n            "description": "Experience the tranquility of Lake Victoria with a scenic sunset cruise. Capture breathtaking views as the sun dips below the horizon, painting the sky with vibrant colors."\n          },\n          {\n            "time": "08:00 PM",\n            "activity": "Dinner at a lakeside restaurant.",\n            "location": "Lakeside Restaurant",\n            "description": "Dine at a charming lakeside restaurant, savoring delicious food and enjoying the calming ambiance by the water\'s edge."\n          }\n        ]\n      },\n      {\n        "day": 3,\n        "title": "Nature and Wildlife",\n        "schedule": [\n          {\n            "time": "08:00 AM",\n            "activity": "Day trip to Entebbe Botanical Gardens.",\n            "location": "Entebbe Botanical Gardens",\n            "description": "Escape the city bustle and immerse yourself in the tranquility of the Entebbe Botanical Gardens. Explore the lush greenery, discover diverse plant species, and enjoy a peaceful escape."\n          },\n          {\n            "time": "10:00 AM",\n            "activity": "Visit the Uganda Wildlife Education Centre (UWEC) in Entebbe.",\n            "location": "Uganda Wildlife Education Centre (UWEC)",\n            "description": "Encounter fascinating wildlife at the Uganda Wildlife Education Centre (UWEC). See various animals, including chimpanzees, gorillas, and birds, in a natural habitat."\n          },\n          {\n            "time": "12:00 PM",\n            "activity": "Lunch at a restaurant in Entebbe.",\n            "location": "Restaurant in Entebbe",\n            "description": "Enjoy a delicious lunch at a charming restaurant in Entebbe, indulging in local delicacies or international cuisine."\n          },\n          {\n            "time": "02:00 PM",\n            "activity": "Visit the Entebbe Zoo.",\n            "location": "Entebbe Zoo",\n            "description": "Explore the diverse animal collection at the Entebbe Zoo. Discover unique species from around the world and learn about their habitats and conservation efforts."\n          },\n          {\n            "time": "04:00 PM",\n            "activity": "Return to Kampala and enjoy a farewell dinner at your hotel.",\n            "location": "Kampala",\n            "description": "Return to Kampala and savor a final delicious meal at your luxurious hotel, reflecting on your memorable Ugandan adventure."\n          },\n          {\n            "time": "09:00 PM",\n            "activity": "Transfer to Entebbe International Airport (EBB) for your departure.",\n            "location": "Entebbe International Airport (EBB)",\n            "description": "After a relaxing evening, transfer to Entebbe International Airport (EBB) for your departure, carrying with you cherished memories of your Ugandan journey."\n          }\n        ]\n      }\n    ]\n  }\n}\n```\n\n**Important Notes:**\n\n* **Flight Details:** The provided booking URL is a general search engine. Please replace it with a specific booking platform (e.g., Kayak, Skyscanner) and search for your specific flights.\n* **Hotel Prices:** Prices will vary depending on the season and specific dates. Please check the provided hotel websites for current rates.\n* **Place Details:** Some places may have entrance fees or require advance booking. Please verify information before visiting.\n* **Time Travel:** Travel times are estimates and may vary depending on traffic conditions. \n* **This itinerary is a suggestion.**  Feel free to customize it based on your interests and preferences.\n* **Enjoy your luxury trip to Kampala!** \n',
        },
      ],
    },
  ],
});

// const result = await chatSession.sendMessage("INSERT_INPUT_HERE");
// console.log(result.response.text());
